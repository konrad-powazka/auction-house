{"version":3,"sources":["webpack:///webpack/bootstrap 7a4ad5b8f5095034fd91","webpack:///./Scripts/app/Application.ts","webpack:///./Scripts/app/UI/Auctions/CreateAuctionComponent.ts","webpack:///./Scripts/app/UI/Auctions/CreateAuctionCtrl.ts","webpack:///./Scripts/app/Infrastructure/GuidGenerator.ts","webpack:///./Scripts/app/CommandHandling/CommandHandlingAsynchronityLevel.ts","webpack:///./Scripts/app/CommandHandling/GeneratedCommandHandlers.ts","webpack:///./Scripts/app/CommandHandling/CommandHandler.ts","webpack:///./Scripts/app/CommandHandling/CommandHandlingErrorType.ts","webpack:///./Scripts/app/Security/SecurityService.ts","webpack:///./Scripts/app/UI/Shared/SecurityUiService.ts","webpack:///./Scripts/app/UI/Shared/SignInDialogComponent.ts","webpack:///./Scripts/app/UI/Shared/SignInDialogCtrl.ts","webpack:///./Scripts/app/UI/Shared/ApplicationCtrl.ts","webpack:///./Scripts/app/Routing.ts","webpack:///./Scripts/app/QueryHandling/GeneratedQueryHandlers.ts","webpack:///./Scripts/app/QueryHandling/QueryHandler.ts","webpack:///./Scripts/app/UI/Auctions/DisplayAuctionComponent.ts","webpack:///./Scripts/app/UI/Auctions/DisplayAuctionCtrl.ts","webpack:///./Scripts/app/UI/Shared/BusyIndicator.ts","webpack:///./Scripts/app/UI/Shared/CommandHandling/GeneratedUiCommandHandlers.ts","webpack:///./Scripts/app/UI/Shared/CommandHandling/CommandUiHandler.ts","webpack:///./Scripts/app/UI/Shared/NotificationType.ts","webpack:///./Scripts/app/UI/Auctions/AuctionsListComponent.ts","webpack:///./Scripts/app/UI/Auctions/AuctionsListCtrl.ts","webpack:///./Scripts/app/UI/Shared/Lists/ListHeaderDefinition.ts","webpack:///./Scripts/app/UI/Shared/Lists/ListCtrl.ts","webpack:///./Scripts/app/UI/Shared/BusyIndicatingHttpInterceptor.ts","webpack:///./Scripts/app/UI/Shared/SimpleNotificationDialogComponent.ts","webpack:///./Scripts/app/UI/Shared/SimpleNotificationDialogCtrl.ts","webpack:///./Scripts/app/UI/Shared/GenericModalService.ts","webpack:///./Scripts/app/Configuration.ts","webpack:///./Scripts/app/UI/Shared/FormatDateTimeFilterFactory.ts","webpack:///./Scripts/app/UI/UserMessaging/ComposeUserMessageDialogComponent.ts","webpack:///./Scripts/app/UI/UserMessaging/ComposeUserMessageDialogCtrl.ts","webpack:///./Scripts/app/UI/Shared/UserReferenceComponent.ts","webpack:///./Scripts/app/UI/Shared/UserReferenceCtrl.ts","webpack:///./Scripts/app/UI/UserMessaging/UserMessagesComponent.ts","webpack:///./Scripts/app/UI/UserMessaging/UserMessagesCtrl.ts","webpack:///./Scripts/app/UI/Auctions/UserAuctionsListComponent.ts","webpack:///./Scripts/app/UI/Auctions/UserAuctionsListCtrl.ts","webpack:///./Scripts/app/UI/Auctions/ActiveAuctionsListComponent.ts","webpack:///./Scripts/app/UI/Auctions/ActiveAuctionsListCtrl.ts","webpack:///./Scripts/app/UI/UserMessaging/UserMessagesListComponent.ts","webpack:///./Scripts/app/UI/UserMessaging/UserMessagesListCtrl.ts","webpack:///./Scripts/app/UI/Shared/NewLinesToParagraphsComponent.ts","webpack:///./Scripts/app/UI/Shared/NewLinesToParagraphsCtrl.ts","webpack:///./Scripts/app/UI/UserMessaging/DisplayUserMessageDialogComponent.ts","webpack:///./Scripts/app/UI/UserMessaging/DisplayUserMessageDialogCtrl.ts"],"names":[],"mappings":"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","file":"Scripts/app/ApplicationBundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7a4ad5b8f5095034fd91","import { INamedComponentOptions } from './Infrastructure/INamedComponentOptions';\r\nimport { CreateAuctionComponent } from './UI/Auctions/CreateAuctionComponent';\r\nimport { AngularCommandHandlersRegistry } from './CommandHandling/GeneratedCommandHandlers';\r\nimport { SecurityService } from './Security/SecurityService';\r\nimport { SecurityUiService } from './UI/Shared/SecurityUiService';\r\nimport { SignInDialogComponent } from './UI/Shared/SignInDialogComponent';\r\nimport { ApplicationCtrl } from './UI/Shared/ApplicationCtrl';\r\nimport { Routing } from './Routing';\r\nimport { AngularQueryHandlersRegistry } from './QueryHandling/GeneratedQueryHandlers';\r\nimport { DisplayAuctionComponent } from './UI/Auctions/DisplayAuctionComponent';\r\nimport BusyIndicator from './UI/Shared/BusyIndicator';\r\nimport { AngularCommandUiHandlersRegistry } from './UI/Shared/CommandHandling/GeneratedUiCommandHandlers';\r\nimport { AuctionsListComponent } from './UI/Auctions/AuctionsListComponent';\r\nimport BusyIndicatingHttpInterceptor from './UI/Shared/BusyIndicatingHttpInterceptor';\r\nimport { SimpleNotificationDialogComponent } from './UI/Shared/SimpleNotificationDialogComponent';\r\nimport GenericModalService from './UI/Shared/GenericModalService';\r\nimport Configuration from './Configuration';\r\nimport FormatDateTimeFilterFactory from './UI/Shared/FormatDateTimeFilterFactory';\r\nimport { ComposeUserMessageDialogComponent } from './UI/UserMessaging/ComposeUserMessageDialogComponent';\r\nimport { UserReferenceComponent } from './UI/Shared/UserReferenceComponent';\r\nimport { UserMessagesComponent } from './UI/UserMessaging/UserMessagesComponent';\r\nimport { UserAuctionsListComponent } from './UI/Auctions/UserAuctionsListComponent';\r\nimport { ActiveAuctionsListComponent } from './UI/Auctions/ActiveAuctionsListComponent';\r\nimport { UserMessagesListComponent } from './UI/UserMessaging/UserMessagesListComponent';\r\nimport { NewLinesToParagraphsComponent } from './UI/Shared/NewLinesToParagraphsComponent';\r\nimport {DisplayUserMessageDialogComponent} from './UI/UserMessaging/DisplayUserMessageDialogComponent';\r\n\r\nexport class Application {\r\n\tprivate static components: INamedComponentOptions[] = [\r\n\t\tnew AuctionsListComponent(),\r\n\t\tnew CreateAuctionComponent(),\r\n\t\tnew DisplayAuctionComponent(),\r\n\t\tnew SignInDialogComponent(),\r\n\t\tnew SimpleNotificationDialogComponent(),\r\n\t\tnew UserReferenceComponent(),\r\n\t\tnew ComposeUserMessageDialogComponent(),\r\n\t\tnew UserMessagesComponent(),\r\n\t\tnew UserAuctionsListComponent(),\r\n\t\tnew ActiveAuctionsListComponent(),\r\n\t\tnew UserMessagesListComponent(),\r\n\t\tnew NewLinesToParagraphsComponent(),\r\n\t\tnew DisplayUserMessageDialogComponent()\r\n\t];\r\n\r\n\tstatic bootstrap(): void {\r\n\t\tconst module = angular.module('auctionHouse',\r\n\t\t\t[\r\n\t\t\t\t'ui.router', 'formly', 'formlyBootstrap', 'ngMessages', 'ngAnimate', 'ui.bootstrap',\r\n\t\t\t\t'ui.bootstrap.datetimepicker', 'angularSpinner', 'ngTasty'\r\n\t\t\t]);\r\n\r\n\t\tthis.registerConstants(module);\r\n\r\n\t\tApplication.configureModule.$inject = [\r\n\t\t\t'$stateProvider', '$urlRouterProvider', '$httpProvider'\r\n\t\t];\r\n\r\n\t\tmodule.config(Application.configureModule);\r\n\t\tthis.registerSerivces(module);\r\n\t\tmodule.controller('applicationCtrl', ApplicationCtrl);\r\n\r\n\t\tfor (let component of Application.components) {\r\n\t\t\tmodule.component(component.registerAs, component);\r\n\t\t}\r\n\r\n\t\tApplication.runModule.$inject = [\r\n\t\t\t'formlyConfig', 'formlyValidationMessages'\r\n\t\t];\r\n\r\n\t\tmodule.run(Application.runModule);\r\n\t};\r\n\r\n\tprivate static registerSerivces(module: ng.IModule): void {\r\n\t\tmodule.service(AngularCommandHandlersRegistry.commandHandlers);\r\n\t\tmodule.service(AngularQueryHandlersRegistry.queryHandlers);\r\n\t\tmodule.service(AngularCommandUiHandlersRegistry.commandUiHandlers);\r\n\t\tmodule.service('securityService', SecurityService);\r\n\t\tmodule.service('securityUiService', SecurityUiService);\r\n\t\tmodule.service('busyIndicatingHttpInterceptor', BusyIndicatingHttpInterceptor);\r\n\t\tmodule.service('genericModalService', GenericModalService);\r\n\t\tmodule.service('configuration', Configuration);\r\n\t\tmodule.filter('formatDateTime', FormatDateTimeFilterFactory.createStandardFilterFunction);\r\n\t\tmodule.filter('formatToNowDateTime', FormatDateTimeFilterFactory.createToNowFilterFunction);\r\n\t}\r\n\r\n\tprivate static registerConstants(module: ng.IModule): void {\r\n\t\tmodule.constant('busyIndicator', new BusyIndicator());\r\n\t}\r\n\r\n\tprivate static configureModule($stateProvider: ng.ui.IStateProvider,\r\n\t\t$urlRouterProvider: ng.ui.IUrlRouterProvider,\r\n\t\t$httpProvider: ng.IHttpProvider): void {\r\n\t\tRouting.configure($stateProvider, $urlRouterProvider);\r\n\t\t$httpProvider.interceptors.push([\r\n\t\t\t'busyIndicatingHttpInterceptor',\r\n\t\t\t(busyIndicatingHttpInterceptor: BusyIndicatingHttpInterceptor) => busyIndicatingHttpInterceptor\r\n\t\t]);\r\n\t}\r\n\r\n\tprivate static runModule(formlyConfig: AngularFormly.IFormlyConfig,\r\n\t\tformlyValidationMessages: AngularFormly.IValidationMessages): void {\r\n\t\tApplication.configureFormly(formlyConfig, formlyValidationMessages);\r\n\t}\r\n\r\n\t// Reference at http://angular-formly.com/#/example/other/error-summary\r\n\tprivate static configureFormly(formlyConfig: AngularFormly.IFormlyConfig,\r\n\t\tformlyValidationMessages: AngularFormly.IValidationMessages): void {\r\n\r\n\t\tformlyConfig.setType({\r\n\t\t\tname: 'dateTimePicker',\r\n\t\t\ttemplate:\r\n\t\t\t'<div><datetimepicker ng-model=\"model[options.key]\" show-spinners=\"true\" date-format=\"M/d/yyyy\" date-options=\"dateOptions\"></datetimepicker></div>',\r\n\t\t\twrapper: ['bootstrapLabel', 'bootstrapHasError'],\r\n\t\t\tdefaultOptions: {\r\n\t\t\t\ttemplateOptions: {\r\n\t\t\t\t\tlabel: 'Time'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tformlyConfig.setWrapper({\r\n\t\t\tname: 'validation',\r\n\t\t\ttypes: ['input', 'textarea', 'dateTimePicker'],\r\n\t\t\ttemplateUrl: 'Template/Shared/AngularFormlyErrorMessagesInputWrapper'\r\n\t\t});\r\n\r\n\t\tformlyValidationMessages\r\n\t\t\t.addTemplateOptionValueMessage('maxlength', 'maxlength', '', 'is the maximum length', 'Too long');\r\n\r\n\t\tformlyValidationMessages\r\n\t\t\t.addTemplateOptionValueMessage('minlength', 'minlength', '', 'is the minimum length', 'Too short');\r\n\r\n\t\tformlyValidationMessages\r\n\t\t\t.addTemplateOptionValueMessage('required', 'label', '', 'is required', 'This field is required');\r\n\r\n\t\tformlyValidationMessages\r\n\t\t\t.addTemplateOptionValueMessage('min', 'min', 'Minimal value is', '', 'Too small');\r\n\r\n\t\tformlyConfig.extras.errorExistsAndShouldBeVisibleExpression = 'fc.$touched || form.$submitted';\r\n\t};\r\n}\r\n\r\nApplication.bootstrap();\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/Application.ts","import { CreateAuctionCtrl } from './CreateAuctionCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class CreateAuctionComponent implements INamedComponentOptions {\r\n    controller = CreateAuctionCtrl;\r\n    templateUrl = 'Template/Auctions/Create';\r\n    registerAs = 'createAuction';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/CreateAuctionComponent.ts","import { CreateAuctionCommand } from '../../Messages/Commands';\r\nimport { CreateAuctionCommandHandler } from '../../CommandHandling/GeneratedCommandHandlers';\r\nimport { ICommandUiHandler } from '../Shared/CommandHandling/ICommandUiHandler';\r\nimport {IQueryHandler as QueryHandler} from '../../QueryHandling/IQueryHandler';\r\nimport {GetAuctionDetailsQuery as AuctionDetailsQuery} from '../../Messages/Queries';\r\nimport {AuctionDetailsReadModel} from '../../ReadModel';\r\nimport GuidGenerator from '../../Infrastructure/GuidGenerator';\r\nimport {CommandHandlingAsynchronityLevel} from '../../CommandHandling/CommandHandlingAsynchronityLevel';\r\n\r\nexport class CreateAuctionCtrl implements ng.IController {\r\n    fields: AngularFormly.IFieldArray;\r\n    model: CreateAuctionCommand;\r\n\tform: ng.IFormController;\r\n\tcreateAuctionCommandId = GuidGenerator.generateGuid();\r\n\r\n    static $inject = ['createAuctionCommandUiHandler', 'getAuctionDetailsQueryHandler', '$state'];\r\n\r\n    constructor(private createAuctionCommandUiHandler: ICommandUiHandler<CreateAuctionCommand>,\r\n        private getAuctionDetailsQueryHandler: QueryHandler<AuctionDetailsQuery, AuctionDetailsReadModel>,\r\n        private stateService: ng.ui.IStateService) {\r\n        this.model = {\r\n            id: GuidGenerator.generateGuid(),\r\n            title: '',\r\n            description: '',\r\n            startingPrice: 0,\r\n            buyNowPrice: null,\r\n            endDate: undefined as any\r\n\t\t};\r\n\r\n        this.fields = [\r\n            {\r\n                key: 'title',\r\n                type: 'input',\r\n                templateOptions: {\r\n                    label: 'Title',\r\n                    required: true,\r\n                    minlength: 5,\r\n                    maxlength: 200\r\n                }\r\n            },\r\n            {\r\n                key: 'description',\r\n                type: 'textarea',\r\n                templateOptions: {\r\n                    label: 'Description',\r\n                    required: true,\r\n                    minlength: 10,\r\n\t\t\t\t\tmaxlength: 10000,\r\n\t\t\t\t\trows: 8\r\n                }\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: 'startingPrice',\r\n\t\t\t\ttype: 'input',\r\n\t\t\t\ttemplateOptions: {\r\n\t\t\t\t\tlabel: 'Starting price',\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\tmin: 0,\r\n\t\t\t\t\tonChange: () => {\r\n\t\t\t\t\t\t(this.form['buyNowPrice'] as ng.INgModelController).$validate();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: 'buyNowPrice',\r\n\t\t\t\tname: 'buyNowPrice',\r\n\t\t\t\ttype: 'input',\r\n\t\t\t\ttemplateOptions: {\r\n\t\t\t\t\tlabel: 'Buy now price',\r\n\t\t\t\t\trequired: false,\r\n\t\t\t\t\ttype: 'number'\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\tvalidators: {\r\n\t\t\t\t\tgreaterOrEqualToStartingPrice: {\r\n\t\t\t\t\t\texpression: ($viewValue: any, $modelValue: any) => {\r\n\t\t\t\t\t\t\tconst value = $modelValue || $viewValue;\r\n\t\t\t\t\t\t\treturn !_(value).isNumber() || !_(this.model.startingPrice).isNumber() || value >= this.model.startingPrice;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmessage: () => 'Buy now price cannot be smaller than starting price'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n            {\r\n                key: 'endDate',\r\n                type: 'dateTimePicker',\r\n                templateOptions: {\r\n                    label: 'End date and time',\r\n                    required: true\r\n\t\t\t\t},\r\n\t\t\t\tvalidators: {\r\n\t\t            futureDate: {\r\n\t\t\t            expression($viewValue: any, $modelValue: any) {\r\n\t\t\t\t            const rawValue = $modelValue || $viewValue;\r\n\t\t\t\t            const momentValue = moment(rawValue);\r\n\t\t\t\t            return momentValue.isSameOrAfter(moment().add(5, 'minutes'));\r\n\t\t\t            },\r\n\t\t\t\t\t\tmessage($viewValue: any, $modelValue: any) {\r\n\t\t\t\t\t\t\tconst rawValue = $modelValue || $viewValue;\r\n\t\t\t\t\t\t\treturn 'Please select a date at least 5 minutes in the future';\r\n\t\t\t\t\t\t}\r\n\t\t            }\r\n\t            }\r\n            }\r\n        ];\r\n    }\r\n\r\n    submit() {\r\n        if (!this.form.$valid) {\r\n            return;\r\n        }\r\n\r\n\t    this.createAuctionCommandUiHandler\r\n\t\t\t.handle(this.model, this.createAuctionCommandId, CommandHandlingAsynchronityLevel.WaitUnitReadModelIsUpdated)\r\n\t\t    .then(() => {\r\n\t\t\t    this.stateService.go('displayAuction', { auctionId: this.model.id });\r\n\t\t    });\r\n    } \r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/CreateAuctionCtrl.ts","export default class GuidGenerator {\n    static generateGuid(): string {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n\n        return s4() +\n            s4() +\n            '-' +\n            s4() +\n            '-' +\n            s4() +\n            '-' +\n            s4() +\n            '-' +\n            s4() +\n            s4() +\n            s4();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/Infrastructure/GuidGenerator.ts","export enum CommandHandlingAsynchronityLevel {\r\n\tQueueOnly,\r\n\tWaitUntilCommandIsProcessed,\r\n\tWaitUnitReadModelIsUpdated\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/CommandHandling/CommandHandlingAsynchronityLevel.ts","\r\nimport { CommandHandler } from './CommandHandler';\r\nimport * as Commands from '../Messages/Commands';\r\n\r\n\texport class SendUserMessageCommandHandler extends CommandHandler<Commands.SendUserMessageCommand> {\r\n\t\tprotected getCommandName(): string {\r\n\t\t\treturn 'SendUserMessageCommand';\r\n\t\t}\r\n\t}\r\n\texport class CreateAuctionCommandHandler extends CommandHandler<Commands.CreateAuctionCommand> {\r\n\t\tprotected getCommandName(): string {\r\n\t\t\treturn 'CreateAuctionCommand';\r\n\t\t}\r\n\t}\r\n\texport class FinishAuctionCommandHandler extends CommandHandler<Commands.FinishAuctionCommand> {\r\n\t\tprotected getCommandName(): string {\r\n\t\t\treturn 'FinishAuctionCommand';\r\n\t\t}\r\n\t}\r\n\texport class MakeBidCommandHandler extends CommandHandler<Commands.MakeBidCommand> {\r\n\t\tprotected getCommandName(): string {\r\n\t\t\treturn 'MakeBidCommand';\r\n\t\t}\r\n\t}\r\n\r\nexport class AngularCommandHandlersRegistry {\r\n\tstatic commandHandlers: {[name: string]: ng.Injectable<Function>} = {\r\n\t\t\t\t\t\t\t'sendUserMessageCommandHandler': SendUserMessageCommandHandler,\r\n\t\t\t\t\t\t\t'createAuctionCommandHandler': CreateAuctionCommandHandler,\r\n\t\t\t\t\t\t\t'finishAuctionCommandHandler': FinishAuctionCommandHandler,\r\n\t\t\t\t\t\t\t'makeBidCommandHandler': MakeBidCommandHandler,\r\n\t\t\t\t\t};\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/CommandHandling/GeneratedCommandHandlers.ts","import { ICommandHandler } from './ICommandHandler';\nimport { CommandHandlingErrorType } from './CommandHandlingErrorType'\nimport { IEventAppliedToReadModelNotificationHubServer } from\n    '../Infrastructure/IEventAppliedToReadModelNotificationHubServer';\nimport { NotifyOnEventsAppliedToReadModelResponse } from '../Infrastructure/NotifyOnEventsAppliedToReadModelResponse';\nimport { CommandHandlingSucceededEvent, CommandHandlingFailedEvent } from '../Events';\nimport GuidGenerator from '../Infrastructure/GuidGenerator';\nimport Configuration from '../Configuration';\nimport {CommandHandlingAsynchronityLevel} from './CommandHandlingAsynchronityLevel';\n\nexport abstract class CommandHandler<TCommand> implements ICommandHandler<TCommand> {\n    private static wasSignalrRInitialized = false;\n    private static commandHandlingSuccessCallbacks = $.Callbacks();\n    private static commandHandlingFailureCallbacks = $.Callbacks();\n    private static eventsAppliedToReadModelCallbacks = $.Callbacks();\n    private static eventAppliedToReadModelNotificationHubServer: IEventAppliedToReadModelNotificationHubServer;\n\n\tstatic $inject = ['$http', '$q', '$timeout', 'configuration'];\n\n    constructor(\n        private httpService: ng.IHttpService,\n        private qService: ng.IQService,\n\t\tprivate timeoutService: ng.ITimeoutService,\n\t\tprivate configuration: Configuration) {\n        if (!CommandHandler.wasSignalrRInitialized) {\n            const connection = ($.connection as any);\n            const commandHandlingFeedbackHub = connection.commandHandlingFeedbackHub;\n\n            commandHandlingFeedbackHub.client.handleCommandSuccess = (commandHandlingSucceededEvent: any): void => {\n                CommandHandler.commandHandlingSuccessCallbacks.fire(commandHandlingSucceededEvent);\n            };\n\n            commandHandlingFeedbackHub.client.handleCommandFailure = (commandHandlingFailedEvent: any): void => {\n                CommandHandler.commandHandlingFailureCallbacks.fire(commandHandlingFailedEvent);\n            };\n\n            const eventAppliedToReadModelNotificationHub = connection.eventAppliedToReadModelNotificationHub;\n\n            eventAppliedToReadModelNotificationHub.client\n                .handleEventsAppliedToReadModel = (subscriptionId: string): void => {\n                    CommandHandler.eventsAppliedToReadModelCallbacks.fire(subscriptionId);\n                };\n\n            CommandHandler\n                .eventAppliedToReadModelNotificationHubServer = eventAppliedToReadModelNotificationHub.server as any;\n\n            CommandHandler.wasSignalrRInitialized = true;\n        }\n    }\n\n\thandle(command: TCommand, commandId: string, asynchronityLevel: CommandHandlingAsynchronityLevel): ng.IPromise<void> {\n\t\tconst deferred = this.qService.defer<void>();\n\n\t\tif (asynchronityLevel === CommandHandlingAsynchronityLevel.QueueOnly) {\n\t\t\tthis.sendCommand(command, commandId)\n\t\t\t\t.then(() => {\n\t\t\t\t\tdeferred.resolve();\n\t\t\t\t})\n\t\t\t\t.catch(() => deferred.reject(CommandHandlingErrorType.FailedToQueue));\n\t\t} else {\n\t\t\tthis.connectSignalR()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.sendCommandAndWaitForHandling(command, commandId, asynchronityLevel, deferred);\n\t\t\t\t})\n\t\t\t\t.catch(() => deferred.reject(CommandHandlingErrorType.FailedToConnectToFeedbackHub));\r\n\t\t}\n\n        return deferred.promise;\n    }\n\n    private sendCommandAndWaitForHandling(command: TCommand,\n        commandId: string,\n        asynchronityLevel: CommandHandlingAsynchronityLevel,\n        deferred: ng.IDeferred<void>): void {\n\t    var commandProcessingFinishedAndSucceeded = false;\n\n        const commandHandlingSuccessCallback = (commandHandlingSucceededEvent: CommandHandlingSucceededEvent) => {\n            if (commandHandlingSucceededEvent.commandId === commandId) {\n\t            commandProcessingFinishedAndSucceeded = true;\n\n                if (asynchronityLevel === CommandHandlingAsynchronityLevel.WaitUntilCommandIsProcessed) {\n                    deferred.resolve();\n                } else {\n                    this\n                        .waitForEventsApplicationToReadModel(commandHandlingSucceededEvent\n                            .publishedEventIds,\n                            deferred);\n                }\n            }\n        };\n\n        const commandHandlingFailureCallback = (commandHandlingFailedEvent: CommandHandlingFailedEvent) => {\n            if (commandHandlingFailedEvent.commandId === commandId) {\n                deferred.reject(CommandHandlingErrorType.FailedToProcess);\n            }\n        };\n\n        CommandHandler.commandHandlingSuccessCallbacks.add(commandHandlingSuccessCallback);\n        CommandHandler.commandHandlingFailureCallbacks.add(commandHandlingFailureCallback);\n\n        this.sendCommand(command, commandId)\n            .then(() => {\n\t\t        this.timeoutService(this.configuration.commandHandlingTimeoutMilliseconds)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (!commandProcessingFinishedAndSucceeded) {\n\t\t\t\t\t\t\tdeferred.reject(CommandHandlingErrorType.ProcessingTimeout);\n\t\t\t\t\t\t}\n\t\t\t        });\n\t        })\n            .catch(() => deferred.reject(CommandHandlingErrorType.FailedToQueue));\n\n        const removeCallbacks = () => {\n            CommandHandler.commandHandlingSuccessCallbacks.remove(commandHandlingSuccessCallback);\n            CommandHandler.commandHandlingFailureCallbacks.remove(commandHandlingFailureCallback);\n        };\n\n        deferred.promise.finally(removeCallbacks);\n    }\n\n    private sendCommand(command: TCommand, commandId: string): ng.IHttpPromise<void> {\n        const url = `api/${this.getCommandName()}/Handle?commandId=${commandId}`;\n\n        return this.httpService.post<void>(url, command);\n    }\n\n    private waitForEventsApplicationToReadModel(publishedEventIds: string[], deferred: ng.IDeferred<void>): void {\n        CommandHandler\n            .eventAppliedToReadModelNotificationHubServer\n            .notifyOnEventsApplied(publishedEventIds)\n\t\t\t.done((notifyOnEventsAppliedToReadModelResponse: NotifyOnEventsAppliedToReadModelResponse) => {\n\t\t        var readModelChangeNotificationTimeoutPromise = this\n\t\t\t        .timeoutService(this.configuration.readModelChangeNotificationTimeoutMilliseconds)\n\t\t\t        .then(() => {\n\t\t\t\t        deferred.reject(CommandHandlingErrorType.ReadModelChangeNotificationTimeout);\n\t\t\t        });\n\n                if (notifyOnEventsAppliedToReadModelResponse.wereAllEventsAlreadyApplied) {\n                    deferred.resolve();\n                    return;\n                }\n\n                const eventsAppliedCallback = (currentSubscriptionId: string) => {\n                    if (currentSubscriptionId === notifyOnEventsAppliedToReadModelResponse.subscriptionId) {\n\t\t\t\t\t\tdeferred.resolve();\n\t                    this.timeoutService.cancel(readModelChangeNotificationTimeoutPromise);\n                    }\n                };\n\n                CommandHandler.eventsAppliedToReadModelCallbacks.add(eventsAppliedCallback);\n\n                deferred.promise.finally(() => CommandHandler.eventsAppliedToReadModelCallbacks\n                    .remove(eventsAppliedCallback));\n\n                deferred.promise.catch(() => {\n                    // TODO: cancel subscription on timeout\n                });\n            })\n            .fail(() => deferred.reject(CommandHandlingErrorType.FailedToSubscribeToReadModelChangeNotification));\n    }\n\n    private connectSignalR(): ng.IPromise<void> {\n        const deferred = this.qService.defer<void>();\n\n        if ($.connection.hub.state === SignalR.ConnectionState.Connected) {\n            deferred.resolve();\n        } else {\n            $.connection.hub\n                .start()\n                .done(() => deferred.resolve())\n                .fail(() => deferred.reject());\n        }\n\n        return deferred.promise;\n    }\n\n    protected abstract getCommandName(): string;\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/CommandHandling/CommandHandler.ts","export enum CommandHandlingErrorType {\n    FailedToConnectToFeedbackHub,\n    FailedToQueue,\n    ProcessingTimeout,\n    FailedToProcess,\n\tFailedToSubscribeToReadModelChangeNotification,\n\tReadModelChangeNotificationTimeout\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/CommandHandling/CommandHandlingErrorType.ts","export class SecurityService {\r\n\tprivate currentUserName: string | null = null;\r\n\r\n\tstatic $inject = ['$http'];\r\n\r\n\tconstructor(private httpService: ng.IHttpService) {\r\n\t\tthis.httpService.get<any>('api/Authentication/GetCurrentUser', {})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (!this.currentUserName && response.data && response.data.name) {\r\n\t\t\t\t\tthis.currentUserName = response.data.name;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tsignIn(userName: string, password: string): ng.IPromise<void> {\r\n\t\tconst loginCommand = {\r\n\t\t\tuserName: userName,\r\n\t\t\tpassword: password\r\n\t\t};\r\n\r\n\t\treturn this.httpService.post('api/Authentication/SignIn', loginCommand)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.currentUserName = userName;\r\n\t\t\t\t// User name might have changed, so a new SignalR connection must be established\r\n\t\t\t\t$.connection.hub.stop(false, true);\r\n\t\t\t});\r\n\t}\r\n\r\n\tsignOut(): ng.IPromise<void> {\r\n\t\tif (!this.checkIfUserIsAuthenticated()) {\r\n\t\t\tthrow new Error('Current user is not authenticated.');\r\n\t\t}\r\n\r\n\t\treturn this.httpService.post('api/Authentication/SignOut', {})\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.currentUserName = null;\r\n\t\t\t});\r\n\t}\r\n\r\n\tcheckIfUserIsAuthenticated(): boolean {\r\n\t\treturn this.currentUserName !== null;\r\n\t}\r\n\r\n\tgetCurrentUserName(): string {\r\n\t\tif (!this.checkIfUserIsAuthenticated()) {\r\n\t\t\tthrow new Error('Current user is not authenticated.');\r\n\t\t}\r\n\r\n\t\treturn this.currentUserName as string;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/Security/SecurityService.ts","import {SecurityService} from '../../Security/SecurityService';\r\nimport ModalService = angular.ui.bootstrap.IModalService;\r\n\r\nexport class SecurityUiService {\r\n\tstatic $inject = ['securityService', '$uibModal', '$q', '$state'];\r\n\r\n    constructor(private securityService: SecurityService,\r\n        private modalService: ModalService,\r\n\t\tprivate qService: ng.IQService,\r\n\t\tprivate stateService: ng.ui.IStateService\r\n\t) {\r\n    }\r\n\r\n    get currentUserName(): string | null {\r\n        return this.securityService.checkIfUserIsAuthenticated() ? this.securityService.getCurrentUserName() : null;\r\n    }\r\n\r\n    get isUserAuthenticated(): boolean {\r\n        return this.securityService.checkIfUserIsAuthenticated();\r\n    }\r\n\r\n    ensureUserIsAuthenticated(): ng.IPromise<void> {\r\n        if (this.securityService.checkIfUserIsAuthenticated()) {\r\n            return this.qService.resolve();\r\n        }\r\n\r\n        return this.showSignInDialog();\r\n    }\r\n\r\n    showSignInDialog(): ng.IPromise<void> {\r\n        const modalInstance = this.modalService.open({\r\n            component: 'signInDialog'\r\n        });\r\n\r\n        return modalInstance.result;\r\n    }\r\n\r\n    signOut(): ng.IPromise<void> {\r\n\t    return this.securityService.signOut()\r\n\t\t    .then(() => {\r\n\t\t\t    this.stateService.go('home');\r\n\t\t    });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/SecurityUiService.ts","import { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\nimport { SignInDialogCtrl } from './SignInDialogCtrl';\r\n\r\nexport class SignInDialogComponent implements INamedComponentOptions {\r\n\tcontroller = SignInDialogCtrl;\r\n\ttemplateUrl = 'Template/Security/SignInDialog';\r\n    registerAs = 'signInDialog';\r\n    bindings = {\r\n        modalInstance: '<'\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/SignInDialogComponent.ts","import {SecurityService} from '../../Security/SecurityService';\r\nimport ModalServiceInstance = angular.ui.bootstrap.IModalServiceInstance;\r\n\r\nexport class SignInDialogCtrl implements ng.IController {\r\n    modalInstance: ModalServiceInstance;\r\n\r\n    fields: AngularFormly.IFieldArray;\r\n\r\n    model: {\r\n        userName: string;\r\n        password: string;\r\n    };\r\n\r\n    form: ng.IFormController;\r\n\r\n    static $inject = ['securityService'];\r\n\r\n    constructor(private securityService: SecurityService) {\r\n        this.fields = [\r\n            {\r\n                key: 'userName',\r\n                type: 'input',\r\n                templateOptions: {\r\n                    label: 'User name',\r\n                    required: true\r\n                }\r\n            },\r\n            {\r\n                key: 'password',\r\n                type: 'input',\r\n                templateOptions: {\r\n                    type: 'password',\r\n                    label: 'Password',\r\n                    required: true\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n    login(): void {\r\n        if (!this.form.$valid) {\r\n            return;\r\n        }\r\n\r\n        this.securityService\r\n            .signIn(this.model.userName, this.model.password)\r\n            .then(() => {\r\n                this.modalInstance.close();\r\n            },\r\n            () => {\r\n                // TODO: create generic notification dialogs\r\n                alert('error');\r\n            });\r\n    }\r\n\r\n    cancel(): void {\r\n        this.modalInstance.dismiss();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/SignInDialogCtrl.ts","import {SecurityUiService} from './SecurityUiService';\r\nimport BusyIndicator from './BusyIndicator';\r\n\r\nexport class ApplicationCtrl implements ng.IController {\r\n\tauctionsSearchQueryString: string;\r\n\tbusySpinnerIsVisible = false;\r\n\tspinnerOptions: any;\r\n\tstatic $inject = ['securityUiService', 'busyIndicator', '$state', '$timeout', '$scope'];\r\n\r\n\tconstructor(public securityUiService: SecurityUiService,\r\n\t\tbusyIndicator: BusyIndicator,\r\n\t\tprivate $state: ng.ui.IStateService,\r\n\t\t$timeout: ng.ITimeoutService,\r\n\t\t$scope: ng.IScope) {\r\n\t\tthis.spinnerOptions = {\r\n\t\t\tlines: 13, // The number of lines to draw\r\n\t\t\tlength: 28, // The length of each line\r\n\t\t\twidth: 14, // The line thickness\r\n\t\t\tradius: 35, // The radius of the inner circle\r\n\t\t\tscale: 1, // Scales overall size of the spinner\r\n\t\t\tcorners: 1, // Corner roundness (0..1)\r\n\t\t\tcolor: '#FFFFFF', // #rgb or #rrggbb or array of colors\r\n\t\t\topacity: 0.25, // Opacity of the lines\r\n\t\t\trotate: 0, // The rotation offset\r\n\t\t\tdirection: 1, // 1: clockwise, -1: counterclockwise\r\n\t\t\tspeed: 2.2, // Rounds per second\r\n\t\t\ttrail: 60, // Afterglow percentage\r\n\t\t\tfps: 20, // Frames per second when using setTimeout() as a fallback for CSS\r\n\t\t\tzIndex: 2e9, // The z-index (defaults to 2000000000)\r\n\t\t\tclassName: 'spinner', // The CSS class to assign to the spinner\r\n\t\t\ttop: '50%', // Top position relative to parent\r\n\t\t\tleft: '50%', // Left position relative to parent\r\n\t\t\tshadow: false, // Whether to render a shadow\r\n\t\t\thwaccel: false, // Whether to use hardware acceleration\r\n\t\t\tposition: 'relative' // Element positioning\r\n\t\t};\r\n\r\n\t\t$scope.$watch(() => busyIndicator.isBusy,\r\n\t\t() => {\r\n\t\t\tif (busyIndicator.isBusy) {\r\n\t\t\t\tconst showBusyIndicatorDelayInMilliseconds = 400;\r\n\r\n\t\t\t\t$timeout(showBusyIndicatorDelayInMilliseconds)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tif (busyIndicator.isBusy) {\r\n\t\t\t\t\t\t\tthis.busySpinnerIsVisible = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.busySpinnerIsVisible = false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tsearchAuctions(): void {\r\n\t\tconst queryString = this.auctionsSearchQueryString;\r\n\t\tthis.auctionsSearchQueryString = '';\r\n\t\tthis.$state.go('auctionsSearch', { queryString: queryString });\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/ApplicationCtrl.ts","export class Routing {\r\n\tstatic configure($stateProvider: ng.ui.IStateProvider, $urlRouterProvider: ng.ui.IUrlRouterProvider): void {\r\n\t\tconst states: ng.ui.IState[] = [\r\n\t\t{\r\n\t\t\tname: 'home',\r\n\t\t\turl: '/',\r\n\t\t\tcomponent: 'activeAuctionsList'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'auctionsSearch',\r\n\t\t\turl: '/auction/search/{queryString}',\r\n\t\t\tcomponent: 'activeAuctionsList',\r\n\t\t\tresolve: {\r\n\t\t\t\tqueryString: [\r\n\t\t\t\t\t'$stateParams', ($stateParams: angular.ui.IStateParamsService) => {\r\n\t\t\t\t\t\treturn $stateParams['queryString'];\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'createAuction',\r\n\t\t\t\turl: '/auction/create',\r\n\t\t\t\tcomponent: 'createAuction'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'displayAuction',\r\n\t\t\t\turl: '/auction/{auctionId}',\r\n\t\t\t\tcomponent: 'displayAuction',\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tauctionId: ['$stateParams', ($stateParams: angular.ui.IStateParamsService) => $stateParams['auctionId']]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'userMessages',\r\n\t\t\t\turl: '/user-messages',\r\n\t\t\t\tcomponent: 'userMessages'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'userAuctionsList',\r\n\t\t\t\turl: '/my-auctions',\r\n\t\t\t\tcomponent: 'userAuctionsList'\r\n\t\t\t}\r\n\t\t\t\r\n\t\t];\r\n\r\n\t\tfor (let state of states) {\r\n\t\t\t$stateProvider.state(state);\r\n\t\t}\r\n\r\n\t\t$urlRouterProvider.when('', '/');\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/Routing.ts","\r\nimport { QueryHandler } from './QueryHandler';\r\nimport * as Queries from '../Messages/Queries';\r\nimport * as ReadModel from '../ReadModel';\r\n\r\nexport class GetSentUserMessagesQueryHandler extends QueryHandler<Queries.GetSentUserMessagesQuery, ReadModel.UserSentMessagesReadModel> {\r\n\tprotected getQueryName(): string {\r\n\t\treturn 'GetSentUserMessagesQuery';\r\n\t}\r\n}\r\nexport class GetUserInboxQueryHandler extends QueryHandler<Queries.GetUserInboxQuery, ReadModel.UserInboxReadModel> {\r\n\tprotected getQueryName(): string {\r\n\t\treturn 'GetUserInboxQuery';\r\n\t}\r\n}\r\nexport class GetAuctionDetailsQueryHandler extends QueryHandler<Queries.GetAuctionDetailsQuery, ReadModel.AuctionDetailsReadModel> {\r\n\tprotected getQueryName(): string {\r\n\t\treturn 'GetAuctionDetailsQuery';\r\n\t}\r\n}\r\nexport class GetAuctionsInvolvingUserQueryHandler extends QueryHandler<Queries.GetAuctionsInvolvingUserQuery, ReadModel.AuctionsListReadModel> {\r\n\tprotected getQueryName(): string {\r\n\t\treturn 'GetAuctionsInvolvingUserQuery';\r\n\t}\r\n}\r\nexport class SearchAuctionsQueryHandler extends QueryHandler<Queries.SearchAuctionsQuery, ReadModel.AuctionsListReadModel> {\r\n\tprotected getQueryName(): string {\r\n\t\treturn 'SearchAuctionsQuery';\r\n\t}\r\n}\r\n\r\nexport class AngularQueryHandlersRegistry {\r\n\tstatic queryHandlers: {[name: string]: ng.Injectable<Function>} = {\r\n\t\t\t\t\t\t\t'getSentUserMessagesQueryHandler': GetSentUserMessagesQueryHandler,\r\n\t\t\t\t\t\t\t'getUserInboxQueryHandler': GetUserInboxQueryHandler,\r\n\t\t\t\t\t\t\t'getAuctionDetailsQueryHandler': GetAuctionDetailsQueryHandler,\r\n\t\t\t\t\t\t\t'getAuctionsInvolvingUserQueryHandler': GetAuctionsInvolvingUserQueryHandler,\r\n\t\t\t\t\t\t\t'searchAuctionsQueryHandler': SearchAuctionsQueryHandler,\r\n\t\t\t\t\t};\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/QueryHandling/GeneratedQueryHandlers.ts","import { IQueryHandler } from './IQueryHandler';\nimport { QueryResultChangedSubscriptionErrorType } from './QueryResultChangedSubscriptionErrorType';\n\nexport abstract class QueryHandler<TQuery, TResult> implements IQueryHandler<TQuery, TResult> {\n    static $inject = ['$http', '$q'];\n\n    constructor(private httpService: ng.IHttpService,\n        private qService: ng.IQService) {\n    }\n\n    handle(query: TQuery): ng.IPromise<TResult> {\n        const url = `api/${this.getQueryName()}/Handle`;\n        return this.httpService.get<TResult>(url, { params: query }).then(response => response.data);\n    }\n\n    protected abstract getQueryName(): string;\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/QueryHandling/QueryHandler.ts","import { DisplayAuctionCtrl } from './DisplayAuctionCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class DisplayAuctionComponent implements INamedComponentOptions {\r\n    controller = DisplayAuctionCtrl;\r\n    templateUrl = 'Template/Auctions/Display';\r\n    registerAs = 'displayAuction';\r\n    bindings = {\r\n        auctionId: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/DisplayAuctionComponent.ts","import {AuctionDetailsReadModel} from '../../ReadModel';\r\nimport {IQueryHandler} from '../../QueryHandling/IQueryHandler';\r\nimport {GetAuctionDetailsQuery} from '../../Messages/Queries';\r\nimport {SecurityUiService} from '../Shared/SecurityUiService';\r\nimport {MakeBidCommand} from '../../Messages/Commands';\r\nimport {ICommandHandler } from '../../CommandHandling/ICommandHandler';\r\nimport GenericModalService from '../Shared/GenericModalService';\r\nimport GuidGenerator from '../../Infrastructure/GuidGenerator';\r\nimport {CommandHandlingAsynchronityLevel} from '../../CommandHandling/CommandHandlingAsynchronityLevel';\r\nimport {ICommandUiHandler } from '../Shared/CommandHandling/ICommandUiHandler';\r\n\r\nexport class DisplayAuctionCtrl implements ng.IController {\r\n\tauctionId: string;\r\n\tauction: AuctionDetailsReadModel;\r\n\tbidPrice: number;\r\n\r\n\tstatic $inject = ['getAuctionDetailsQueryHandler', 'securityUiService', 'makeBidCommandUiHandler', 'genericModalService'];\r\n\r\n\tconstructor(\r\n\t\tprivate getAuctionDetailsQueryHandler: IQueryHandler<GetAuctionDetailsQuery, AuctionDetailsReadModel>,\r\n\t\tpublic securityUiService: SecurityUiService,\r\n\t\tprivate makeBidCommandUiHandler: ICommandUiHandler<MakeBidCommand>,\r\n\t\tprivate genericModalService: GenericModalService) {\r\n\t\tgetAuctionDetailsQueryHandler.handle({\r\n\t\t\t\tid: this.auctionId\r\n\t\t\t})\r\n\t\t\t.then(auction => {\r\n\t\t\t\tthis.auctionLoadedCallback(auction);\r\n\t\t\t});\r\n\t}\r\n\r\n\tprivate auctionLoadedCallback(auction: AuctionDetailsReadModel) {\r\n\t\tthis.auction = auction;\r\n\t\tthis.bidPrice = auction.minimalPriceForNextBidder;\r\n\t}\r\n\r\n\tmakeUserEnteredBid() {\r\n\t\tif (!_(this.bidPrice).isNumber()) {\r\n\t\t\tthis.genericModalService.showErrorNotification('Please enter a valid bid price.');\r\n\t\t\treturn;\r\n\t\t} else if (this.bidPrice < this.auction.minimalPriceForNextBidder) {\r\n\t\t\tthis.genericModalService\r\n\t\t\t\t.showErrorNotification(`Minimal bid price is ${this.auction.minimalPriceForNextBidder}.`);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.makeBid(this.bidPrice);\r\n\t}\r\n\r\n\tmakeBuyNowBid() {\r\n\t\tif (!this.auction.buyNowPrice) {\r\n\t\t\tthrow new Error();\r\n\t\t}\r\n\r\n\t\tthis.makeBid(this.auction.buyNowPrice as number);\r\n\t}\r\n\r\n\tprivate makeBid(bidPrice: number): void {\r\n\t\tthis.securityUiService.ensureUserIsAuthenticated()\r\n\t\t\t.then(() => {\r\n\t\t\t\tif (this.securityUiService.currentUserName === this.auction.createdByUserName) {\r\n\t\t\t\t\tthis.genericModalService.showErrorNotification('You cannot bid at your own auction.');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst makeBidCommand: MakeBidCommand = {\r\n\t\t\t\t\tauctionId: this.auctionId,\r\n\t\t\t\t\texpectedAuctionVersion: this.auction.version,\r\n\t\t\t\t\tprice: bidPrice\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.makeBidCommandUiHandler.handle(makeBidCommand, GuidGenerator.generateGuid(), CommandHandlingAsynchronityLevel.WaitUnitReadModelIsUpdated)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\treturn this.getAuctionDetailsQueryHandler.handle({\r\n\t\t\t\t\t\t\tid: this.auctionId\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(auction => {\r\n\t\t\t\t\t\tvar previousAuction = this.auction;\r\n\t\t\t\t\t\tthis.auctionLoadedCallback(auction);\r\n\r\n\t\t\t\t\t\tif (auction.highestBidderUserName === this.securityUiService.currentUserName) {\r\n\t\t\t\t\t\t\tif (auction.wasFinished) {\r\n\t\t\t\t\t\t\t\tthis.genericModalService\r\n\t\t\t\t\t\t\t\t\t.showSuccessNotification('Congratulations, you won the auction! Contact the seller in order to establish payment and delivery details.');\r\n\t\t\t\t\t\t\t} else if (auction.highestBidderUserName === previousAuction.highestBidderUserName) {\r\n\t\t\t\t\t\t\t\tthis.genericModalService.showSuccessNotification('You are still the highest bidder.');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.genericModalService.showSuccessNotification('Congratulations, you are now the highest bidder!');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.genericModalService.showInformationNotification('Unfortunately your offer was not the highest.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/DisplayAuctionCtrl.ts","export default class BusyIndicator {\r\n    private busyStatesCount = 0;\r\n\r\n    get isBusy(): boolean {\r\n        return this.busyStatesCount > 0 ||\r\n            (!!this.parentBusyIndicator && (this.parentBusyIndicator as BusyIndicator).isBusy);\r\n    }\r\n\r\n    constructor(private parentBusyIndicator?: BusyIndicator) {\r\n    }\r\n\r\n    enterBusyState(): () => void {\r\n        var wasBusyStateLeft = false;\r\n        this.busyStatesCount++;\r\n\r\n        const leaveBusyStateFn = () => {\r\n            if (!wasBusyStateLeft) {\r\n                wasBusyStateLeft = true;\r\n                this.busyStatesCount--;\r\n            }\r\n        };\r\n\r\n        return leaveBusyStateFn;\r\n    }\r\n\r\n    createNestedBusyIndicator(): BusyIndicator {\r\n        return new BusyIndicator(this);\r\n    }\r\n\r\n    attachToPromise<T>(promise: ng.IPromise<T>): ng.IPromise<T> {\r\n        var leaveBusyStateFn = this.enterBusyState();\r\n\r\n        promise.finally(() => {\r\n            leaveBusyStateFn();\r\n        });\r\n\r\n        return promise;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/BusyIndicator.ts","\r\nimport { CommandUiHandler } from './CommandUiHandler';\r\nimport { ICommandHandler } from '../../../CommandHandling/ICommandHandler';\r\nimport * as Commands from '../../../Messages/Commands';\r\nimport {SecurityUiService } from '../SecurityUiService';\r\nimport BusyIndicator from '../BusyIndicator';\r\nimport GenericModalService from '../GenericModalService';\r\n\r\n\texport class SendUserMessageCommandUiHandler extends CommandUiHandler<Commands.SendUserMessageCommand> {\r\n\t\tstatic $inject = ['sendUserMessageCommandHandler', 'busyIndicator', 'securityUiService', '$q', 'genericModalService'];\r\n\r\n\t\tconstructor(\n\t\t\tprivate sendUserMessageCommandHandler: ICommandHandler<Commands.SendUserMessageCommand>, \n\t\t\t\tbusyIndicator: BusyIndicator, \n\t\t\t\tsecurityUiService: SecurityUiService,\n\t\t\t\tqService: ng.IQService,\n\t\t\t\tgenericModalService: GenericModalService) {\n\t\t\tsuper(busyIndicator, securityUiService, qService, genericModalService);\n\t\t}\r\n\r\n\t\tprotected getCommandHandler(): ICommandHandler<Commands.SendUserMessageCommand> {\r\n\t\t\treturn this.sendUserMessageCommandHandler;\r\n\t\t}\r\n\t}\r\n\texport class CreateAuctionCommandUiHandler extends CommandUiHandler<Commands.CreateAuctionCommand> {\r\n\t\tstatic $inject = ['createAuctionCommandHandler', 'busyIndicator', 'securityUiService', '$q', 'genericModalService'];\r\n\r\n\t\tconstructor(\n\t\t\tprivate createAuctionCommandHandler: ICommandHandler<Commands.CreateAuctionCommand>, \n\t\t\t\tbusyIndicator: BusyIndicator, \n\t\t\t\tsecurityUiService: SecurityUiService,\n\t\t\t\tqService: ng.IQService,\n\t\t\t\tgenericModalService: GenericModalService) {\n\t\t\tsuper(busyIndicator, securityUiService, qService, genericModalService);\n\t\t}\r\n\r\n\t\tprotected getCommandHandler(): ICommandHandler<Commands.CreateAuctionCommand> {\r\n\t\t\treturn this.createAuctionCommandHandler;\r\n\t\t}\r\n\t}\r\n\texport class FinishAuctionCommandUiHandler extends CommandUiHandler<Commands.FinishAuctionCommand> {\r\n\t\tstatic $inject = ['finishAuctionCommandHandler', 'busyIndicator', 'securityUiService', '$q', 'genericModalService'];\r\n\r\n\t\tconstructor(\n\t\t\tprivate finishAuctionCommandHandler: ICommandHandler<Commands.FinishAuctionCommand>, \n\t\t\t\tbusyIndicator: BusyIndicator, \n\t\t\t\tsecurityUiService: SecurityUiService,\n\t\t\t\tqService: ng.IQService,\n\t\t\t\tgenericModalService: GenericModalService) {\n\t\t\tsuper(busyIndicator, securityUiService, qService, genericModalService);\n\t\t}\r\n\r\n\t\tprotected getCommandHandler(): ICommandHandler<Commands.FinishAuctionCommand> {\r\n\t\t\treturn this.finishAuctionCommandHandler;\r\n\t\t}\r\n\t}\r\n\texport class MakeBidCommandUiHandler extends CommandUiHandler<Commands.MakeBidCommand> {\r\n\t\tstatic $inject = ['makeBidCommandHandler', 'busyIndicator', 'securityUiService', '$q', 'genericModalService'];\r\n\r\n\t\tconstructor(\n\t\t\tprivate makeBidCommandHandler: ICommandHandler<Commands.MakeBidCommand>, \n\t\t\t\tbusyIndicator: BusyIndicator, \n\t\t\t\tsecurityUiService: SecurityUiService,\n\t\t\t\tqService: ng.IQService,\n\t\t\t\tgenericModalService: GenericModalService) {\n\t\t\tsuper(busyIndicator, securityUiService, qService, genericModalService);\n\t\t}\r\n\r\n\t\tprotected getCommandHandler(): ICommandHandler<Commands.MakeBidCommand> {\r\n\t\t\treturn this.makeBidCommandHandler;\r\n\t\t}\r\n\t}\r\n\r\nexport class AngularCommandUiHandlersRegistry {\r\n\tstatic commandUiHandlers: {[name: string]: ng.Injectable<Function>} = {\r\n\t\t\t\t\t\t\t'sendUserMessageCommandUiHandler': SendUserMessageCommandUiHandler,\r\n\t\t\t\t\t\t\t'createAuctionCommandUiHandler': CreateAuctionCommandUiHandler,\r\n\t\t\t\t\t\t\t'finishAuctionCommandUiHandler': FinishAuctionCommandUiHandler,\r\n\t\t\t\t\t\t\t'makeBidCommandUiHandler': MakeBidCommandUiHandler,\r\n\t\t\t\t\t};\r\n\t}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/CommandHandling/GeneratedUiCommandHandlers.ts","import { ICommandUiHandler } from './ICommandUiHandler';\nimport BusyIndicator from '../BusyIndicator';\nimport { SecurityUiService } from '../SecurityUiService';\nimport { ICommandHandler } from '../../../CommandHandling/ICommandHandler';\nimport { CommandHandlingErrorType } from '../../../CommandHandling/CommandHandlingErrorType';\nimport GenericModalService from '../GenericModalService';\nimport { NotificationType } from '../NotificationType';\nimport { CommandHandlingAsynchronityLevel } from '../../../CommandHandling/CommandHandlingAsynchronityLevel';\n\nexport abstract class CommandUiHandler<TCommand> implements ICommandUiHandler<TCommand> {\n\t$inject = ['busyIndicator', 'securityUiService', '$q', 'genericModalService'];\n\n\tconstructor(private busyIndicator: BusyIndicator,\n\t\tprivate securityUiService: SecurityUiService,\n\t\tprivate qService: ng.IQService,\n\t\tprivate genericModalService: GenericModalService) {\n\t}\n\n\tprotected abstract getCommandHandler(): ICommandHandler<TCommand>;\n\n\thandle(command: TCommand, commandId: string, asynchronityLevel: CommandHandlingAsynchronityLevel): angular.IPromise<void> {\n\t\treturn this.securityUiService.ensureUserIsAuthenticated()\n\t\t\t.then(() => {\n\t\t\t\tconst promise = this.getCommandHandler().handle(command, commandId, asynchronityLevel);\n\n\t\t\t\treturn this.busyIndicator.attachToPromise(promise)\n\t\t\t\t\t.catch((commandHandlingErrorType: CommandHandlingErrorType) => {\n\t\t\t\t\t\tvar actionData = this.getActionDataForCommandHandlingErrorType(commandHandlingErrorType);\n\n\t\t\t\t\t\tthis.genericModalService\n\t\t\t\t\t\t\t.showNotification(actionData.notificationMessage, actionData.notificationType);\n\n\t\t\t\t\t\treturn this.qService.reject();\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t);\n\t}\n\n\tprivate getActionDataForCommandHandlingErrorType(commandHandlingErrorType: CommandHandlingErrorType):\n\t\t{ notificationType: NotificationType, notificationMessage: string } {\n\t\tswitch (commandHandlingErrorType) {\n\t\t\tcase CommandHandlingErrorType.FailedToConnectToFeedbackHub:\n\t\t\tcase CommandHandlingErrorType.FailedToQueue:\n\t\t\tcase CommandHandlingErrorType.FailedToProcess:\n\t\t\t\treturn {\n\t\t\t\t\tnotificationType: NotificationType.Error,\n\t\t\t\t\tnotificationMessage: 'Failed to process you request. Please try again.'\n\t\t\t\t};\n\t\t\tcase CommandHandlingErrorType.ProcessingTimeout:\n\t\t\t\treturn {\n\t\t\t\t\tnotificationType: NotificationType.Error,\n\t\t\t\t\tnotificationMessage:\n\t\t\t\t\t'Your request timed out. Please check whether its effects are visible or try again.'\n\t\t\t\t};\n\t\t\tcase CommandHandlingErrorType.FailedToSubscribeToReadModelChangeNotification:\n\t\t\tcase CommandHandlingErrorType.ReadModelChangeNotificationTimeout:\n\t\t\t\treturn {\n\t\t\t\t\tnotificationType: NotificationType.Information,\n\t\t\t\t\tnotificationMessage: 'Your request was handled, but its effects may not be visible for a while.'\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\treturn {\n\t\t\t\t\tnotificationType: NotificationType.Error,\n\t\t\t\t\tnotificationMessage: 'An unknown error occurred.'\n\t\t\t\t};\n\t\t}\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/CommandHandling/CommandUiHandler.ts","export enum NotificationType {\n\tInformation,\n\tSuccess,\n    Error\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/NotificationType.ts","import { AuctionsListCtrl } from './AuctionsListCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class AuctionsListComponent implements INamedComponentOptions {\r\n\tcontroller = AuctionsListCtrl;\r\n\ttemplateUrl = 'Template/Auctions/List';\r\n\tregisterAs = 'auctionsList';\r\n\tbindings = {\r\n\t\tgetAuctions: '<',\r\n\t\tdisplayedColumns: '<',\r\n\t\tonReloadFunctionChanged: '&'\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/AuctionsListComponent.ts","import { AuctionsListReadModel, AuctionListItemReadModel } from '../../ReadModel';\r\nimport {IQueryHandler} from '../../QueryHandling/IQueryHandler';\r\nimport { SearchAuctionsQuery } from '../../Messages/Queries';\r\nimport {AuctionsListColumn} from './AuctionsListColumn';\r\nimport ListHeaderDefinition from '../Shared/Lists/ListHeaderDefinition';\r\nimport {ListCtrl} from '../Shared/Lists/ListCtrl';\r\n\r\nexport class AuctionsListCtrl extends ListCtrl<AuctionsListColumn, AuctionListItemReadModel> {\r\n\tgetAuctions: (pageSize: number, pageNumber: number) => ng.IPromise<AuctionsListReadModel>;\r\n\r\n\tstatic $inject = ['$scope'];\r\n\r\n\tconstructor(scope: ng.IScope) {\r\n\t\tsuper(scope);\r\n\t}\r\n\r\n\tprotected getAllHeaderDefinitions() {\r\n\t\treturn [\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('TitleAndDescription', 'Auction'),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('CurrentPrice', 'Current price', { width: '120px', 'text-align': 'right' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('SoldFor', 'Sold for', { width: '120px', 'text-align': 'right' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('BuyNowPrice', 'Buy now price', { width: '120px', 'text-align': 'right' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('NumberOfBids', 'Bids', { width: '50px', 'text-align': 'right' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('Seller', 'Seller', { width: '150px' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('Winner', 'Winner', { width: '150px' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('StartedDateTime', 'Started', { width: '180px' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('EndsDateTime', 'Ends in', { width: '130px' }),\r\n\t\t\tnew ListHeaderDefinition<AuctionsListColumn>('EndedDateTime', 'Ended', { width: '180px' }),\r\n\t\t];\r\n\t}\r\n\r\n\tprotected getResults(pageSize: number, pageNumber: number) {\r\n\t\treturn this.getAuctions(pageSize, pageNumber);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/AuctionsListCtrl.ts","export default class ListHeaderDefinition<TColumn> {\r\n\tconstructor(public column: TColumn, public displayName: string, public style?: any) {\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/Lists/ListHeaderDefinition.ts","import {IQueryHandler} from '../../../QueryHandling/IQueryHandler';\r\nimport ListHeaderDefinition from './ListHeaderDefinition';\r\nimport {IPagedResult as PagedResult} from './IPagedResult';\r\n\r\nexport abstract class ListCtrl<TColumn extends string, TListItem> implements ng.IController {\r\n\tdisplayedColumns: TColumn[];\r\n\tonReloadFunctionChanged: (args: { reloadFunction: () => void }) => void;\r\n\treload: () => void = angular.noop;\r\n\r\n\ttastyInitCfg = {\r\n\t\t'count': 25,\r\n\t\t'page': 1\r\n\t};\r\n\r\n\tstatic $inject = ['$scope'];\r\n\r\n\tconstructor(scope: ng.IScope) {\r\n\t\tscope.$watch(\r\n\t\t() => this.reload,\r\n\t\t() => {\r\n\t\t\tif (this.onReloadFunctionChanged) {\r\n\t\t\t\tthis.onReloadFunctionChanged({ reloadFunction: this.reload });\r\n\t\t\t}\r\n\r\n\t\t\tthis.reload();\r\n\t\t});\r\n\t}\r\n\r\n\tgetResource = (paramsString: string, paramsObject: any): ng.IPromise<any> => {\r\n\t\tvar pageSize = paramsObject.count;\r\n\t\tvar pageNumber = paramsObject.page;\r\n\r\n\t\treturn this.getResults(pageSize, pageNumber)\r\n\t\t\t.then(pagedResults => {\r\n\t\t\t\tconst displayedHeaders = _(this.getAllHeaderDefinitions())\r\n\t\t\t\t\t.filter(headerDefinition => _(this.displayedColumns).contains(headerDefinition.column));\r\n\r\n\t\t\t\tconst tastyHeader = _(displayedHeaders).map(header => this.mapHeaderDefinitionToTastyTableHeader(header));\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\trows: pagedResults.pageItems,\r\n\t\t\t\t\tpagination: {\r\n\t\t\t\t\t\tcount: pagedResults.pageSize,\r\n\t\t\t\t\t\tpage: pagedResults.pageNumber,\r\n\t\t\t\t\t\tpages: pagedResults.totalPagesCount,\r\n\t\t\t\t\t\tsize: pagedResults.totalItemsCount\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: tastyHeader\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t};\r\n\r\n\tcheckIfColumnIsDisplayed(column: TColumn) {\r\n\t\treturn _(this.displayedColumns).contains(column);\r\n\t}\r\n\r\n\tprotected abstract getAllHeaderDefinitions(): ListHeaderDefinition<TColumn>[];\r\n\r\n\tprotected abstract getResults(pageSize: number, pageNumber: number): ng.IPromise<PagedResult<TListItem>>;\r\n\r\n\tprivate mapHeaderDefinitionToTastyTableHeader(listHeaderDefinition: ListHeaderDefinition<TColumn>) {\r\n\t\treturn {\r\n\t\t\tkey: listHeaderDefinition.column,\r\n\t\t\tname: listHeaderDefinition.displayName,\r\n\t\t\tstyle: listHeaderDefinition.style\r\n\t\t};\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/Lists/ListCtrl.ts","import BusyIndicator from './BusyIndicator';\r\n\r\nexport default class BusyIndicatingHttpInterceptor implements ng.IHttpInterceptor {\r\n\tprivate numberOfRequestsInProgress = 0;\r\n\tprivate leaveHttpBusyStateFn: () => void;\r\n\r\n\tstatic $inject = ['busyIndicator', '$q'];\r\n\r\n\tconstructor(private busyIndicator: BusyIndicator, private $q: ng.IQService) {\r\n\t}\r\n\r\n\trequest = <T>(config: ng.IRequestConfig): ng.IRequestConfig | ng.IPromise<ng.IRequestConfig> => {\r\n\t\tif (this.numberOfRequestsInProgress === 0) {\r\n\t\t\tthis.leaveHttpBusyStateFn = this.busyIndicator.enterBusyState();\r\n\t\t}\r\n\r\n\t\tthis.numberOfRequestsInProgress++;\r\n\t\treturn config;\r\n\t};\r\n\r\n\tresponse = <T>(response: ng.IHttpPromiseCallbackArg<T>): ng.IPromise<ng.IHttpPromiseCallbackArg<T>> | ng.\r\n\t\tIHttpPromiseCallbackArg<T> => {\r\n\t\t\tthis.decrementNumberOfRequestsInProgress();\r\n\t\t\treturn response;\r\n\t};\r\n\r\n\tresponseError = (rejection: any): any => {\r\n\t\tthis.decrementNumberOfRequestsInProgress();\r\n\t\treturn this.$q.reject(rejection);\r\n\t};\r\n\r\n\tprivate decrementNumberOfRequestsInProgress(): void {\r\n\t\tthis.numberOfRequestsInProgress--;\r\n\r\n\t\tif (this.numberOfRequestsInProgress === 0) {\r\n\t\t\tthis.leaveHttpBusyStateFn();\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/BusyIndicatingHttpInterceptor.ts","import { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\nimport {SimpleNotificationDialogCtrl} from './SimpleNotificationDialogCtrl';\r\n\r\nexport class SimpleNotificationDialogComponent implements INamedComponentOptions {\r\n\tcontroller = SimpleNotificationDialogCtrl;\r\n\ttemplateUrl = 'Template/Shared/SimpleNotificationDialog';\r\n\tregisterAs = 'simpleNotificationDialog';\r\n    bindings = {\r\n\t\tmodalInstance: '<',\r\n\t\tresolve: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/SimpleNotificationDialogComponent.ts","import {SecurityService} from '../../Security/SecurityService';\r\nimport ModalServiceInstance = angular.ui.bootstrap.IModalServiceInstance;\r\nimport {NotificationType} from './NotificationType';\r\n\r\nexport class SimpleNotificationDialogCtrl implements ng.IController {\r\n\tmodalInstance: ModalServiceInstance;\r\n\r\n\tresolve: {\r\n\t\tnotificationMessage: string;\r\n\t\tnotificationType: NotificationType;\r\n\t}\r\n\r\n\tget isInformationNotification(): boolean {\r\n\t\treturn this.resolve.notificationType === NotificationType.Information;\r\n\t}\r\n\r\n\tget isSuccessNotification(): boolean {\r\n\t\treturn this.resolve.notificationType === NotificationType.Success;\r\n\t}\r\n\r\n\tget isErrorNotification(): boolean {\r\n\t\treturn this.resolve.notificationType === NotificationType.Error;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/SimpleNotificationDialogCtrl.ts","import ModalService = angular.ui.bootstrap.IModalService;\r\nimport { NotificationType } from './NotificationType';\r\n\r\nexport default class GenericModalService {\r\n\tstatic $inject = ['$uibModal'];\r\n\r\n\tconstructor(private modalService: ModalService) {\r\n\t}\r\n\r\n\tshowInformationNotification(notificationMessage: string): ng.IPromise<void> {\r\n\t\treturn this.showNotification(notificationMessage, NotificationType.Information);\r\n\t}\r\n\r\n\tshowSuccessNotification(notificationMessage: string): ng.IPromise<void> {\r\n\t\treturn this.showNotification(notificationMessage, NotificationType.Success);\r\n\t}\r\n\r\n\tshowErrorNotification(notificationMessage: string): ng.IPromise<void> {\r\n\t\treturn this.showNotification(notificationMessage, NotificationType.Error);\r\n\t}\r\n\r\n\tshowNotification(notificationMessage: string, notificationType: NotificationType): ng.IPromise<void> {\r\n\t\tconst modalInstance = this.modalService.open({\r\n\t\t\tcomponent: 'simpleNotificationDialog',\r\n\t\t\tresolve: {\r\n\t\t\t\tnotificationMessage: () => notificationMessage,\r\n\t\t\t\tnotificationType: () => notificationType\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn modalInstance.result;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/GenericModalService.ts","export default class Configuration {\r\n\tcommandHandlingTimeoutMilliseconds = 15 * 1000;\r\n\treadModelChangeNotificationTimeoutMilliseconds = 15 * 1000;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/Configuration.ts","export default class FormatDateTimeFilterFactory {\r\n\tstatic $inject = [''];\r\n\r\n\tstatic createStandardFilterFunction(): (value: any) => (string | null) {\r\n\t\treturn (value: any): (string | null) => {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn moment(value).format('Do MMM YYYY, h:mm A');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic createToNowFilterFunction(): (value: any) => (string | null) {\r\n\t\treturn (value: any): (string | null) => {\r\n\t\t\tif (!value) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn moment(value).toNow(true);\r\n\t\t}\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/FormatDateTimeFilterFactory.ts","import { ComposeUserMessageDialogCtrl } from './ComposeUserMessageDialogCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class ComposeUserMessageDialogComponent implements INamedComponentOptions {\r\n\tcontroller = ComposeUserMessageDialogCtrl;\r\n\ttemplateUrl = 'Template/UserMessaging/ComposeMessageDialog';\r\n\tregisterAs = 'composeUserMessageDialog';\r\n\tbindings = {\r\n\t\tmodalInstance: '<',\r\n\t\tresolve: '<'\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/ComposeUserMessageDialogComponent.ts","import ModalServiceInstance = angular.ui.bootstrap.IModalServiceInstance;\r\nimport { SendUserMessageCommand } from '../../Messages/Commands';\r\nimport GuidGenerator from '../../Infrastructure/GuidGenerator';\r\nimport { ICommandUiHandler } from '../Shared/CommandHandling/ICommandUiHandler';\r\nimport GenericModalService from '../Shared/GenericModalService';\r\nimport {CommandHandlingAsynchronityLevel} from '../../CommandHandling/CommandHandlingAsynchronityLevel';\r\n\r\nexport class ComposeUserMessageDialogCtrl implements ng.IController {\r\n\tresolve: {\r\n\t\trecipientUserName: string;\r\n\t\tmessageSubject: string;\r\n\t}\r\n\r\n\tmodalInstance: ModalServiceInstance;\r\n\tfields: AngularFormly.IFieldArray;\r\n\tsendUserMessageCommandId = GuidGenerator.generateGuid();\r\n\r\n\tmodel: SendUserMessageCommand = {\r\n\t\trecipientUserName: '',\r\n\t\tmessageSubject: '',\r\n\t\tmessageBody: ''\r\n\t};\r\n\r\n\tform: ng.IFormController;\r\n\r\n\tstatic $inject = ['sendUserMessageCommandUiHandler', 'genericModalService'];\r\n\r\n\tconstructor(\r\n\t\tprivate sendUserMessageCommandUiHandler: ICommandUiHandler<SendUserMessageCommand>,\r\n\t\tprivate genericModalService: GenericModalService) {\r\n\t\tthis.model.recipientUserName = this.resolve.recipientUserName;\r\n\t\tthis.model.messageSubject = this.resolve.messageSubject || '';\r\n\r\n\t\tthis.fields = [\r\n\t\t\t{\r\n\t\t\t\tkey: 'messageSubject',\r\n\t\t\t\ttype: 'input',\r\n\t\t\t\ttemplateOptions: {\r\n\t\t\t\t\tlabel: 'Subject',\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tkey: 'messageBody',\r\n\t\t\t\ttype: 'textarea',\r\n\t\t\t\ttemplateOptions: {\r\n\t\t\t\t\tlabel: 'Message',\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmaxlength: 10000,\r\n\t\t\t\t\trows: 8\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tsendMessage() {\r\n\t\tif (!this.form.$valid) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\tthis.sendUserMessageCommandUiHandler.handle(this.model, this.sendUserMessageCommandId, CommandHandlingAsynchronityLevel.QueueOnly)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.modalInstance.close();\r\n\t\t\t\tthis.genericModalService.showSuccessNotification('Your message was sent successfully.');\r\n\t\t\t});\r\n\t}\r\n\r\n\tcancel(): void {\r\n\t\tthis.modalInstance.dismiss();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/ComposeUserMessageDialogCtrl.ts","import { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\nimport { UserReferenceCtrl } from './UserReferenceCtrl';\r\n\r\nexport class UserReferenceComponent implements INamedComponentOptions {\r\n\tcontroller = UserReferenceCtrl;\r\n\ttemplateUrl = 'Template/Shared/UserReference';\r\n\tregisterAs = 'userReference';\r\n    bindings = {\r\n\t\tuserName: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/UserReferenceComponent.ts","import ModalService = angular.ui.bootstrap.IModalService;\r\nimport {SecurityUiService} from './SecurityUiService';\r\n\r\nexport class UserReferenceCtrl implements ng.IController {\r\n\tuserName: string;\r\n\r\n\tstatic $inject = ['$uibModal', 'securityUiService'];\r\n\r\n\tconstructor(private modalService: ModalService, private securityUiService: SecurityUiService) {\r\n\t}\r\n\r\n\topendMessageCompositionDialog() {\r\n\t\tthis.modalService.open({\r\n\t\t\tcomponent: 'composeUserMessageDialog',\r\n\t\t\tresolve: {\r\n\t\t\t\trecipientUserName: () => this.userName\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tcheckIfUserIsCurrentUser() {\r\n\t\treturn this.userName === this.securityUiService.currentUserName;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/UserReferenceCtrl.ts","import { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\nimport {UserMessagesCtrl} from './UserMessagesCtrl';\r\n\r\nexport class UserMessagesComponent implements INamedComponentOptions {\r\n\tcontroller = UserMessagesCtrl;\r\n\ttemplateUrl = 'Template/UserMessaging/UserMessages';\r\n\tregisterAs = 'userMessages';\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/UserMessagesComponent.ts","import { UserInboxReadModel, UserSentMessagesReadModel } from '../../ReadModel';\r\nimport {IQueryHandler} from '../../QueryHandling/IQueryHandler';\r\nimport { GetUserInboxQuery, GetSentUserMessagesQuery } from '../../Messages/Queries';\r\nimport { UserMessagesListColumn } from './UserMessagesListColumn';\r\n\r\nexport class UserMessagesCtrl implements ng.IController {\r\n\tinboxMessagesListDisplayedColumns: UserMessagesListColumn[] =\r\n\t['SenderUserName', 'SubjectAndBody', 'SentDateTime'];\r\n\r\n\tsentMessagesListDisplayedColumns: UserMessagesListColumn[] =\r\n\t['SubjectAndBody', 'SentDateTime', 'RecipientUserName'];\r\n\r\n\tstatic $inject = ['getUserInboxQueryHandler', 'getSentUserMessagesQueryHandler'];\r\n\r\n\tconstructor(private getUserInboxQueryHandler: IQueryHandler<GetUserInboxQuery, UserInboxReadModel>,\r\n\t\tprivate getSentUserMessagesQueryHandler: IQueryHandler<GetSentUserMessagesQuery, UserSentMessagesReadModel>) {\r\n\t}\r\n\r\n\tgetUserInbox = (pageSize: number, pageNumber: number): ng.IPromise<UserInboxReadModel> => {\r\n\t\tconst query: GetUserInboxQuery = {\r\n\t\t\tpageSize: pageSize,\r\n\t\t\tpageNumber: pageNumber\r\n\t\t};\r\n\r\n\t\treturn this.getUserInboxQueryHandler.handle(query);\r\n\t};\r\n\r\n\tgetSentUserMessages = (pageSize: number, pageNumber: number): ng.IPromise<UserInboxReadModel> => {\r\n\t\tconst query: GetSentUserMessagesQuery = {\r\n\t\t\tpageSize: pageSize,\r\n\t\t\tpageNumber: pageNumber\r\n\t\t};\r\n\r\n\t\treturn this.getSentUserMessagesQueryHandler.handle(query);\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/UserMessagesCtrl.ts","import { UserAuctionsListCtrl } from './UserAuctionsListCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class UserAuctionsListComponent implements INamedComponentOptions {\r\n\tcontroller = UserAuctionsListCtrl;\r\n    templateUrl = 'Template/Auctions/UserList';\r\n    registerAs = 'userAuctionsList';\r\n\t//bindings = {\r\n\t//\tqueryString: '<'\r\n //   }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/UserAuctionsListComponent.ts","import { AuctionsListReadModel } from '../../ReadModel';\r\nimport {IQueryHandler} from '../../QueryHandling/IQueryHandler';\r\nimport { GetAuctionsInvolvingUserQuery } from '../../Messages/Queries';\r\nimport {AuctionsListColumn} from './AuctionsListColumn';\r\n\r\nexport class UserAuctionsListCtrl implements ng.IController {\r\n\tsearch: () => void;\r\n\tqueryString: string;\r\n\tuserInvolvementIntoAuction = 'Selling';\r\n\tdisplayedColumns: AuctionsListColumn[];\r\n\r\n\tstatic $inject = ['getAuctionsInvolvingUserQueryHandler'];\r\n\r\n\tconstructor(private getAuctionsInvolvingUserQueryHandler:\r\n\t\tIQueryHandler<GetAuctionsInvolvingUserQuery, AuctionsListReadModel>) {\r\n\t}\r\n\r\n\tgetAuctions = (pageSize: number, pageNumber: number): ng.IPromise<AuctionsListReadModel> => {\r\n\t\tthis.refreshDisplayedColumns();\r\n\r\n\t\tconst query: GetAuctionsInvolvingUserQuery = {\r\n\t\t\tqueryString: this.queryString,\r\n\t\t\tuserInvolvementIntoAuction: this.userInvolvementIntoAuction,\r\n\t\t\tpageSize: pageSize,\r\n\t\t\tpageNumber: pageNumber\r\n\t\t};\r\n\r\n\t\treturn this.getAuctionsInvolvingUserQueryHandler.handle(query);\r\n\t};\r\n\r\n\tsetReloadFunction(reloadFn: () => void) {\r\n\t\tthis.search = reloadFn;\r\n\t}\r\n\r\n\tprivate refreshDisplayedColumns() {\r\n\t\tconst commonColumns: AuctionsListColumn[] = ['TitleAndDescription', 'BuyNowPrice'];\r\n\r\n\t\t// TODO: add ended date and final price columns\r\n\t\tconst userInvolvementIntoAuctionToAdditionalColumnsMap: { [userInvolvementIntoAuction: string]: AuctionsListColumn[] } = {\r\n\t\t\t'Selling': ['CurrentPrice', 'BuyNowPrice', 'NumberOfBids', 'EndsDateTime'],\r\n\t\t\t'Sold': ['SoldFor', 'Winner', 'BuyNowPrice', 'NumberOfBids', 'EndedDateTime'],\r\n\t\t\t'FailedToSell': ['EndedDateTime'],\r\n\t\t\t'Bidding': ['Seller', 'CurrentPrice', 'NumberOfBids', 'EndsDateTime'],\r\n\t\t\t'Bought': ['SoldFor', 'Seller', 'NumberOfBids', 'EndedDateTime'],\r\n\t\t\t'FailedToBuy': ['SoldFor', 'Seller', 'Winner', 'NumberOfBids', 'EndedDateTime']\r\n\t\t}\r\n\r\n\t\tthis.displayedColumns = commonColumns\r\n\t\t\t.concat(userInvolvementIntoAuctionToAdditionalColumnsMap[this.userInvolvementIntoAuction]);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/UserAuctionsListCtrl.ts","import { ActiveAuctionsListCtrl } from './ActiveAuctionsListCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class ActiveAuctionsListComponent implements INamedComponentOptions {\r\n\tcontroller = ActiveAuctionsListCtrl;\r\n    templateUrl = 'Template/Auctions/ActiveList';\r\n\tregisterAs = 'activeAuctionsList';\r\n\tbindings = {\r\n\t\tqueryString: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/ActiveAuctionsListComponent.ts","import { AuctionsListReadModel } from '../../ReadModel';\r\nimport { IQueryHandler } from '../../QueryHandling/IQueryHandler';\r\nimport { SearchAuctionsQuery } from '../../Messages/Queries';\r\nimport { AuctionsListColumn } from './AuctionsListColumn';\r\n\r\nexport class ActiveAuctionsListCtrl implements ng.IController {\r\n\tqueryString: string;\r\n\r\n\tdisplayedColumns = [\r\n\t\t'TitleAndDescription', 'CurrentPrice', 'BuyNowPrice', 'NumberOfBids', 'Seller', 'EndsDateTime'\r\n\t];\r\n\r\n\tstatic $inject = ['searchAuctionsQueryHandler'];\r\n\r\n\tconstructor(private searchAuctionsQueryHandler: IQueryHandler<SearchAuctionsQuery, AuctionsListReadModel>) {\r\n\t}\r\n\r\n\tgetAuctions = (pageSize: number, pageNumber: number): ng.IPromise<AuctionsListReadModel> => {\r\n\t\tconst query = {\r\n\t\t\tqueryString: this.queryString,\r\n\t\t\tpageSize: pageSize,\r\n\t\t\tpageNumber: pageNumber\r\n\t\t};\r\n\r\n\t\treturn this.searchAuctionsQueryHandler.handle(query);\r\n\t};\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Auctions/ActiveAuctionsListCtrl.ts","import { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\nimport {UserMessagesListCtrl} from './UserMessagesListCtrl';\r\n\r\nexport class UserMessagesListComponent implements INamedComponentOptions {\r\n\tcontroller = UserMessagesListCtrl;\r\n\ttemplateUrl = 'Template/UserMessaging/UserMessagesList';\r\n\tregisterAs = 'userMessagesList';\r\n\tbindings = {\r\n\t\tgetMessages: '<',\r\n\t\tdisplayedColumns: '<'\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/UserMessagesListComponent.ts","import { UserMessageReadModel } from '../../ReadModel';\r\nimport { IQueryHandler } from '../../QueryHandling/IQueryHandler';\r\nimport { ListCtrl } from '../Shared/Lists/ListCtrl';\r\nimport { UserMessagesListColumn } from './UserMessagesListColumn';\r\nimport ListHeaderDefinition from '../Shared/Lists/ListHeaderDefinition';\r\nimport { IPagedResult } from '../Shared/Lists/IPagedResult';\r\nimport ModalService = angular.ui.bootstrap.IModalService;\r\n\r\nexport class UserMessagesListCtrl extends ListCtrl<UserMessagesListColumn, UserMessageReadModel> {\r\n\tgetMessages: (pageSize: number, pageNumber: number) => ng.IPromise<IPagedResult<UserMessageReadModel>>;\r\n\r\n\tstatic $inject = ['$scope', '$uibModal'];\r\n\r\n\tconstructor(private scope: ng.IScope, private modalService: ModalService) {\r\n\t\tsuper(scope);\r\n\t}\r\n\r\n\tprotected getAllHeaderDefinitions(): ListHeaderDefinition<UserMessagesListColumn>[] {\r\n\t\treturn [\r\n\t\t\tnew ListHeaderDefinition<UserMessagesListColumn>('SenderUserName', 'From', { width: '200px' }),\r\n\t\t\tnew ListHeaderDefinition<UserMessagesListColumn>('RecipientUserName', 'To', { width: '200px' }),\r\n\t\t\tnew ListHeaderDefinition<UserMessagesListColumn>('SubjectAndBody', 'Message'),\r\n\t\t\tnew ListHeaderDefinition<UserMessagesListColumn>('SentDateTime', 'Sent', { width: '180px' })\r\n\t\t];\r\n\t}\r\n\r\n\tprotected getResults(pageSize: number, pageNumber: number) {\r\n\t\treturn this.getMessages(pageSize, pageNumber);\r\n\t}\r\n\r\n\tdisplayUserMessage(userMessage: UserMessageReadModel) {\r\n\t\tthis.modalService.open({\r\n\t\t\tcomponent: 'displayUserMessageDialog',\r\n\t\t\tresolve: {\r\n\t\t\t\tuserMessage: () => userMessage\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/UserMessagesListCtrl.ts","import { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\nimport { NewLinesToParagraphsCtrl } from './NewLinesToParagraphsCtrl';\r\n\r\nexport class NewLinesToParagraphsComponent implements INamedComponentOptions {\r\n\tcontroller = NewLinesToParagraphsCtrl;\r\n\tregisterAs = 'newLinesToParagraphs';\r\n    bindings = {\r\n\t\ttext: '<'\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/NewLinesToParagraphsComponent.ts","export class NewLinesToParagraphsCtrl implements ng.IController {\r\n\ttext: string;\r\n\r\n\tstatic $inject = ['$element', '$scope'];\r\n\r\n\tconstructor(element: JQuery, scope: ng.IScope) {\r\n\t\tscope.$watch(() => this.text,\r\n\t\t() => {\r\n\t\t\telement.empty();\r\n\r\n\t\t\tif (!_(this.text).isString()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lines = this.text.split(/\\r\\n|\\r|\\n/);\r\n\t\t\tconst paragraphElements: any = _(lines).map(line => $('<p></p>').text(line));\r\n\r\n\t\t\tfor (const paragraphElement of paragraphElements) {\r\n\t\t\t\telement.append(paragraphElement);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/Shared/NewLinesToParagraphsCtrl.ts","import { DisplayUserMessageDialogCtrl } from './DisplayUserMessageDialogCtrl';\r\nimport { INamedComponentOptions } from '../../Infrastructure/INamedComponentOptions';\r\n\r\nexport class DisplayUserMessageDialogComponent implements INamedComponentOptions {\r\n\tcontroller = DisplayUserMessageDialogCtrl;\r\n\ttemplateUrl = 'Template/UserMessaging/DisplayMessageDialog';\r\n\tregisterAs = 'displayUserMessageDialog';\r\n\tbindings = {\r\n\t\tmodalInstance: '<',\r\n\t\tresolve: '<'\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/DisplayUserMessageDialogComponent.ts","import ModalServiceInstance = angular.ui.bootstrap.IModalServiceInstance;\r\nimport ModalService = angular.ui.bootstrap.IModalService;\r\nimport { UserMessageReadModel } from '../../ReadModel';\r\nimport { SecurityUiService } from '../Shared/SecurityUiService';\r\n\r\nexport class DisplayUserMessageDialogCtrl implements ng.IController {\r\n\tstatic $inject = ['$uibModal', 'securityUiService'];\r\n\r\n\tconstructor(private modalService: ModalService, public securityUiService: SecurityUiService) {\r\n\t}\r\n\r\n\tresolve: {\r\n\t\tuserMessage: UserMessageReadModel;\r\n\t}\r\n\r\n\tmodalInstance: ModalServiceInstance;\r\n\r\n\tget messageIsFromCurrentUser() {\r\n\t\treturn this.securityUiService.currentUserName === this.resolve.userMessage.senderUserName;\r\n\t}\r\n\r\n\tget messageIsToCurrentUser() {\r\n\t\treturn this.securityUiService.currentUserName === this.resolve.userMessage.recipientUserName;\r\n\t}\r\n\r\n\treply() {\r\n\t\tthis.modalService.open({\r\n\t\t\tcomponent: 'composeUserMessageDialog',\r\n\t\t\tresolve: {\r\n\t\t\t\trecipientUserName: () => this.resolve.userMessage.senderUserName,\r\n\t\t\t\tmessageSubject: () => `RE: ${this.resolve.userMessage.subject}`\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tclose(): void {\r\n\t\tthis.modalInstance.dismiss();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./Scripts/app/UI/UserMessaging/DisplayUserMessageDialogCtrl.ts"],"sourceRoot":""}